<div class="container-fluid" ng-init="ctrl.init()">

    <div class="col-md-4">

        <div class="list-group col-md-12">
            <a class="list-group-item" ng-click="ctrl.showAccount = true; ctrl.showMusic = false" href>
                <h5 class="list-group-item-heading">Account Settings</h5>
                <p class="list-group-item-text">Manage your account settings</p>
            </a>
            <a class="list-group-item" ng-click="ctrl.showAccount = false; ctrl.showMusic = true" href>
                <h5 class="list-group-item-heading">Your music</h5>
                <p class="list-group-item-text">Manage your music</p>
            </a>
        </div>

        <!--<div class="list-group col-md-12">-->
            <!--<a class="list-group-item" ng-click="ctrl.showAccount = false; ctrl.showMusic = true" href>-->
                <!--<h5 class="list-group-item-heading">Your music</h5>-->
                <!--<p class="list-group-item-text">Manage your music</p>-->
            <!--</a>-->
        <!--</div>-->
    </div>

    <div class="col-md-6">
        <div class="panel panel-default">
            <div class="panel-body" ng-if="ctrl.showAccount">
                <h4 class="semibold">Account</h4>
                <p>These settings control your account information.</p>
                <hr>

                <div class="form-group col-md-11">
                    <label class="col-md-3"><span class="pull-right">Name</span></label>
                    <div class="col-md-9 pull-right">
                        <input type="text" class="form-control" ng-model="ctrl.currentUser.name" disabled>
                        <p class="help-block">Enter your real name.</p>
                    </div>
                </div>
                <div class="form-group col-md-11">
                    <label class="col-md-3"><span class="pull-right">Email</span></label>
                    <div class="col-md-9 pull-right">
                        <input type="text" class="form-control" ng-model="ctrl.currentUser.email"
                               ng-disabled="true">
                        <p class="help-block">Enter your email.</p>
                    </div>
                </div>
            </div>

            <div class="panel-body" ng-if="ctrl.showMusic" ng-init="ctrl.getUserSongs()">
                <h4 class="semibold">Music</h4>
                <p>Manage your music uploads</p>
                <hr>

                <div class="form-group col-md-11">
                    <label class="col-md-3"><span class="pull-right">Upload music</span></label>
                    <div class="col-md-7 pl0">
                        <input class="col-xs-12" type="file" ngf-select ng-model="ctrl.files" ngf-multiple="true" href
                               ngf-validate="{size: {min: 10, max: '20MB'}, duration: {min: '10s', max: '10m'}, pattern: '.mp3'}"/>
                    </div>
                </div>

                <div class="form-group col-md-11 pl10" ng-repeat="song in ctrl.songs">
                    <div class="col-xs-12 pl0 pr0 pt5 pb5">
                        <label class="col-md-3"><span class="pull-right">Song title</span></label>
                        <div class="col-md-9 pull-right">
                            <input type="text col-xs-12" class="form-control" ng-model="song.title">
                        </div>
                    </div>
                    <div class="col-xs-12 pl0 pr0 pt5 pb5">
                        <label class="col-md-3"><span class="pull-right">Duration</span></label>
                        <div class="col-md-9 pull-right">
                            <span>{{ctrl.milliToTime(song.duration)}}</span>
                        </div>
                    </div>

                    <div class="form-group col-md-11">
                        <label class="col-md-3"><span class="pull-right">Upload artwork</span></label>
                        <div class="col-md-7 pl0">
                            <input class="col-xs-12" type="file" ngf-select ng-model="song.pic" ngf-multiple="false" href/>
                        </div>
                    </div>

                    <div class="form-group col-md-11" ng-if="song.success">
                        <label class="col-md-3"><span class="pull-right"><i class="fa fa-success"></i></span></label>
                    </div>
                </div>

                <div class="form-group col-md-11">
                    <div ng-repeat="song in ctrl.currentUser.songs track by song.id">
                        <p>{{song.name}}</p>
                        <a href ng-click="ctrl.select(song)">play</a>
                        <!--<audio ng-src="{{song.url}}" controls="true" autoplay="true"></audio>-->
                    </div>
                </div>
            </div>
            <div class="panel-footer col-xs-12" ng-if="ctrl.showMusic && ctrl.files.length > 0">
                <div class="form-group col-md-11">
                    <label class="col-md-3"><span class="pull-right">Confirm</span></label>
                    <div class="col-md-9 pull-right">
                        <button class="btn btn-soundcloud pull-right" ng-disabled="ctrl.files.length === 0" ng-click="ctrl.uploadFiles()">submit</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="col-md-6" ng-if="ctrl.showWelcome">
        <div class="panel panel-default">
            <div class="panel-body">
                <h4 class="semibold">Welcome to SoundBox</h4>
                <p>Please fill out a few details before we get started</p>
                <hr>

                <div class="form-group col-md-11">
                    <label class="col-md-3"><span class="pull-right">Name</span></label>
                    <div class="col-md-9 pull-right">
                        <input type="text" class="form-control" ng-model="ctrl.currentUser.name" disabled>
                        <p class="help-block">Enter your real name.</p>
                    </div>
                </div>
                <div class="form-group col-md-11">
                    <label class="col-md-3"><span class="pull-right">Username</span></label>
                    <div class="col-md-9 pull-right">
                        <input type="text" class="form-control" ng-model="ctrl.currentUser.username">
                        <p class="help-block">Enter a username</p>
                    </div>
                </div>
                <div class="form-group col-md-11">
                    <label class="col-md-3"><span class="pull-right">Email</span></label>
                    <div class="col-md-9 pull-right">
                        <input type="text" class="form-control" ng-model="ctrl.currentUser.email">
                        <p class="help-block">Enter your email.</p>
                    </div>
                </div>

                <div class="col-xs-12 pl0 pr0" ng-if="ctrl.success">
                    <i class="fa fa-exclamation-circle custom-blue"></i>
                    <span>Thanks for the information! </span>
                </div>


            </div>
            <div class="panel-footer col-xs-12">
                <button class="btn btn-soundcloud pull-right" ng-disabled="!ctrl.currentUser.username || !ctrl.currentUser.email" ng-click="ctrl.updateUser()">Confirm</button>
            </div>
        </div>
    </div>

</div>