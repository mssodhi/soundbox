<div ng-controller='NavCtrl as ctrl'>

    <div class="sidemenu" ng-if="ctrl.inApp">

        <a class="col-xs-12" ng-href="#/landing" style="background-color: #0b97c4">
            <h1 class="text-center custom-font"><p style="color: white">Soundbox</p></h1>
        </a>

        <img ng-src="/test/resources/images/pic.jpg" class="sidemenu-image"/>

        <h3 class="text-center custom-font">Welcome {{ctrl.currentUser.name}}</h3>

        <div id="menu-items" class="text-center menu-items">
            <a ng-href="#/music">
                <div class="cell" ng-class="ctrl.isActive('/music')">
                    <p><span class="fa fa-headphones fa-2x"> </span> Music</p>
                </div>
            </a>

            <a ng-href="#/videos">
                <div class="cell" ng-class="ctrl.isActive('/videos')">
                    <p><span class="fa fa-tv fa-2x"></span> Videos</p>
                </div>
            </a>

            <a ng-href="#/profile">
                <div class="cell" ng-class="ctrl.isActive('/profile')">
                    <p><span class="fa fa-user fa-2x"></span> Profile</p>
                </div>
            </a>
        </div>

        <div class="col-xs-12 text-center pb15">
            <br>
            <span class="glyphicon glyphicon-apple"> Created on a MacBook Pro</span>
        </div>

    </div>

    <div class="col-xs-11 pull-right" ng-init="ctrl.init()">
        <div id="social-nav" class="btn-group pull-right" role="group">
            <a href="https://www.linkedin.com/in/sodhim" class="btn btn-linkedin">LinkedIn</a>
            <a href="https://github.com/mssodhi/" class="btn btn-github">GitHub</a>
            <a ng-click="ctrl.signOut()" ng-if="ctrl.inApp" class="btn btn-danger">Logout</a>
        </div>
    </div>
    <br>

    <div class="footer" ng-if="ctrl.player">

        <img class="pull-left" ng-src="{{ctrl.track.artwork_url}}">

        <div class="col-md-3">
            <h4><a ng-href="{{ctrl.track.permalink_url}}" target="_blank" style="color: white" title="ctrl.track.title">{{ctrl.track.title | limitTo: 40}}<span ng-if="ctrl.track.title.length > 40">... </span></a></h4>
            <h6><a ng-href="{{ctrl.track.user.permalink_url}}" target="_blank" style="color: white">{{ctrl.track.user.username}}</a></h6>

            <span>{{ctrl.milliToTime(ctrl.player.currentTime())}} / {{ctrl.milliToTime(ctrl.track.duration)}}</span>
        </div>

        <div class="col-md-5 mt15 text-center">

            <span class="fa fa-3x fa-backward button pr15 rewind-btn" ng-dblclick="ctrl.getPrevious()" ng-click="ctrl.rewind()"></span>
            <span class="fa fa-3x fa-play button play-btn" ng-if="!ctrl.isPlaying || ctrl.progress >= 100" ng-click="ctrl.play()"></span>
            <span class="fa fa-3x fa-pause button pause-btn" ng-if="ctrl.isPlaying" ng-click="ctrl.pause()"></span>
            <span class="fa fa-3x fa-forward button next-btn pl15" ng-click="ctrl.next()"></span>

            <div id="progress-bar" class="button music-bar-background ml15 mr15 mt15">
                <div class="music-bar" ng-style="ctrl.myStyle"></div>
            </div>
        </div>

    </div>

</div>